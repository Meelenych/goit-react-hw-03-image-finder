{"version":3,"sources":["components/ImageGalleryItem.module.css","components/ImageGallery.module.css","components/Modal.module.css","components/Button.module.css","components/Loader.module.css","App.module.css","components/Searchbar.jsx","components/ImageGalleryItem.jsx","components/Modal.jsx","components/Button.jsx","components/Loader.jsx","components/ImageGallery.jsx","App.js","index.js","components/SearchBar.module.css"],"names":["module","exports","SearchBar","state","changeValue","handleSubmit","e","preventDefault","trim","toast","warn","clearForm","props","onFormSubmit","toLowerCase","handleChange","setState","currentTarget","value","className","styles","Searchbar","SearchForm","onSubmit","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","largeImageURL","tags","onClickProps","onClick","ImageGalleryItemImage","src","alt","srcSet","modalRoot","document","getElementById","Modal","handleKeyDown","code","onClose","handleOverlayClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","Button","Loader","color","height","width","timeout","ImageGallery","images","showModal","page","loading","loadMore","prevState","console","log","bigImageSetState","bigImage","description","closeModal","prevProps","a","searchQuery","submitValue","params","url","fetch","then","response","json","results","hits","length","success","error","catch","err","finally","map","id","CloseBtn","App","data","ReactDOM","render","StrictMode"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,mBCAxGD,EAAOC,QAAU,CAAC,aAAe,mCAAmC,SAAW,iC,mBCA/ED,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,IAAM,mB,0KCIlBC,E,4MAEFC,MAAQ,CACJC,YAAc,I,EAGtBC,aAAe,SAACC,GAEZ,GADAA,EAAEC,iBACmC,KAAlC,EAAKJ,MAAMC,YAAYI,OAItB,OAFAC,IAAMC,KAAK,qCACX,EAAKC,YAGT,EAAKC,MAAMC,aAAa,EAAKV,MAAMC,YAAYU,cAAcN,QAC7D,EAAKG,a,EAGTI,aAAe,SAACT,GACZ,EAAKU,SAAS,CAACZ,YAAaE,EAAEW,cAAcC,S,EAGhDP,UAAY,WACR,EAAKK,SAAS,CAACZ,YAAa,M,4CAG5B,WACI,OACA,qCACI,wBAAQe,UAAWC,IAAOC,UAA1B,SACI,uBAAMF,UAAWC,IAAOE,WACpBC,SAAYC,KAAKnB,aADrB,UAGI,wBAAQoB,KAAK,SAASN,UAAWC,IAAOM,iBAAxC,SACI,sBAAMP,UAAWC,IAAOO,sBAAxB,sBAGJ,uBACIR,UAAWC,IAAOQ,gBAClBH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SAAYR,KAAKT,aACjBG,MAASM,KAAKrB,MAAMC,mBAIhC,cAAC,IAAD,W,GAhDY6B,aAsDT/B,I,kDC3CAgC,MAbf,YAA+E,IAAnDC,EAAkD,EAAlDA,aAAcC,EAAoC,EAApCA,cAAeC,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,aAM3D,OACI,oBAAInB,UAAWC,IAAOc,iBAAkBK,QAL5C,SAAqBjC,GACjBgC,EAAaF,EAAeC,IAI5B,SACI,qBAAKlB,UAAWC,IAAOoB,sBAAuBC,IAAKN,EAAcO,IAAKL,EAAMM,OAAUP,O,kCCP5FQ,EAAYC,SAASC,eAAe,cAEnCC,E,4MAWHC,cAAgB,SAAA1C,GACE,WAAXA,EAAE2C,MACD,EAAKrC,MAAMsC,W,EAInBC,mBAAqB,SAAA7C,GACdA,EAAEW,gBAAkBX,EAAE8C,QACrB,EAAKxC,MAAMsC,W,uDAjBnB,WACIG,OAAOC,iBAAiB,UAAW9B,KAAKwB,iB,kCAI5C,WACGK,OAAOE,oBAAqB,UAAW/B,KAAKwB,iB,oBAe/C,WACI,OAAOQ,uBAAc,qBAAKrC,UAAWC,IAAOqC,QAASlB,QAAUf,KAAK2B,mBAA/C,SACjB,qBAAKhC,UAAWC,IAAO2B,MAAvB,SACKvB,KAAKZ,MAAM8C,aAGZd,O,GA7BKX,aAkCNc,I,iBCrCTY,E,4JACF,WACI,OACI,wBAAQlC,KAAK,SAAUN,UAAWC,IAAOuC,OAAQpB,QAASf,KAAKZ,MAAM2B,QAArE,SACA,sBAAMpB,UAAU,eAAhB,4B,GAJSc,aAUN0B,I,0CCPTC,E,4JACF,WACI,OACI,qBAAKzC,UAAYC,IAAOwC,OAAxB,SACA,cAAC,IAAD,CACAnC,KAAK,UACLoC,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,Y,GATA/B,aAgBN2B,ICbTK,E,4MAEN9D,MAAM,CACF+D,OAAQ,GACR9B,cAAe,GACfC,KAAM,GACN8B,WAAW,EACXC,KAAO,EACPC,SAAS,G,EA+DXC,SAAW,WACT,EAAKtD,UAAS,SAAAuD,GAEV,OADAC,QAAQC,IAAI,oBACL,CAAEL,KAAMG,EAAUH,KAAO,O,EAMtCM,iBAAmB,SAACC,EAAUC,GAC5B,EAAK5D,SAAS,CAACoB,cAAcuC,EAAUtC,KAAKuC,K,EAGhDC,WAAY,WACR,EAAK7D,UAAS,kBAAkB,CAC5BmD,WADU,EAAEA,UAEZ/B,cAAc,GACdC,KAAK,Q,+FA7Eb,WAAyByC,EAAWP,GAApC,4BAAAQ,EAAA,sDAEUX,EAAO5C,KAAKrB,MAAMiE,KACR,qCACZY,EAAcxD,KAAKZ,MAAMqE,YAJjC,2BAMUC,EANV,aAMyBF,EANzB,iBAM6CZ,EAN7C,gBAGoB,qCAHpB,wDAOUe,EAPV,2BAO0BD,EAElBJ,EAAUG,cAAgBD,IAC1BxD,KAAKR,SAAS,CAACqD,SAAS,IAC1Be,MAAMD,GACHE,MAAK,SAACC,GAGL,OAFEd,QAAQC,IAAI,WAAWa,GAElBA,EAASC,UAEjBF,MAAK,SAACG,GACL,EAAKxE,SAAS,CACVkD,OAAO,YAAKsB,EAAQC,QAEK,IAAxBD,EAAQC,KAAKC,OAAcjF,IAAMkF,QAAQ,uBACX,IAAxBH,EAAQC,KAAKC,QAAcjF,IAAMmF,MAAO,2BAIpDC,OAAM,SAACC,GACJrF,IAAMmF,MAAO,mBAIhBG,SAAQ,kBAAK,EAAK/E,SAAS,CAACqD,SAAS,QAIvCD,IAASG,EAAUH,MACVgB,MAAMD,GACbE,MAAK,SAACC,GAGL,OAFEd,QAAQC,IAAI,WAAWa,GAElBA,EAASC,UAEjBF,MAAK,SAACG,GACL,EAAKxE,UAAS,SAAAuD,GACZ,MAAO,CAACL,OAAO,GAAD,mBAAMK,EAAUL,QAAhB,YAA2BsB,EAAQC,WAEtB,IAAxBD,EAAQC,KAAKC,OAAcjF,IAAMkF,QAAQ,qCACX,IAAxBH,EAAQC,KAAKC,QAAcjF,IAAMmF,MAAO,0BAIpDC,OAAM,SAACC,GACJrF,IAAMmF,MAAO,mBAIhBG,SAAQ,kBAAK,EAAK/E,SAAS,CAACqD,SAAS,OAxD9C,gD,6EAiFA,WAAU,IAAD,OAEG,OAAS,qCACT,qBAAIlD,UAAWC,IAAO6C,aAAtB,UACKzC,KAAKrB,MAAMkE,SAAW,cAAC,EAAD,IACtB7C,KAAKrB,MAAM+D,OAAO8B,KAAI,gBAAGC,EAAH,EAAGA,GAAI9D,EAAP,EAAOA,aAAcC,EAArB,EAAqBA,cAAeC,EAApC,EAAoCA,KAApC,OAEnB,cAAC,EAAD,CAEAF,aAAcA,EACdC,cAAeA,EACfC,KAAQA,EACRC,aAAgB,EAAKoC,kBAJhBuB,MAOqB,IAA7BzE,KAAKrB,MAAM+D,OAAOwB,QACnB,cAAC,EAAD,CAAQnD,QAAWf,KAAK8C,cAI1B9C,KAAKrB,MAAMiC,eAEb,eAAC,EAAD,CAAOc,QAAW1B,KAAKqD,WAAvB,UACI,wBAAQpD,KAAK,SAASN,UAAWC,IAAO8E,SAAU3D,QAAWf,KAAKqD,WAAlE,eACA,qBAAKpC,IAAKjB,KAAKrB,MAAMiC,cAAeM,IAAKlB,KAAKrB,MAAMkC,iB,GApHzCJ,aA8HZgC,I,iBClIMkC,E,4MACnBhG,MAAQ,CACN+D,OAAQ,GACRe,YAAa,I,EAGfpE,aAAe,SAACuF,GACd,EAAKpF,SAAS,CAAEiE,YAAamB,K,4CAG/B,WACE,OACE,sBAAKjF,UAAWC,IAAO+E,IAAvB,UACE,cAAC,EAAD,CAAWtF,aAAcW,KAAKX,eAC9B,cAAC,EAAD,CAAcoE,YAAazD,KAAKrB,MAAM8E,qB,GAdbhD,aCAjCoE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF1D,SAASC,eAAe,U,kBCR1B9C,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,sC","file":"static/js/main.3b4cd526.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1qKZa\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1NjUM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1rHGa\",\"CloseBtn\":\"ImageGallery_CloseBtn__2GHn5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2JGYM\",\"Modal\":\"Modal_Modal__1yCj7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1cz4t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__25drP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__fcuIf\"};","import { Component } from 'react';\r\nimport styles from \"../components/SearchBar.module.css\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nclass SearchBar extends Component {\r\n    \r\n    state = {\r\n        changeValue : '',\r\n    }\r\n\r\nhandleSubmit = (e)=> {\r\n    e.preventDefault()\r\n    if(this.state.changeValue.trim() === ''){\r\n        // alert('Please specify your request!')\r\n        toast.warn('Please specify your request!');\r\n        this.clearForm();\r\n        return;\r\n    }\r\n    this.props.onFormSubmit(this.state.changeValue.toLowerCase().trim())\r\n    this.clearForm()\r\n}\r\n\r\nhandleChange = (e)=>{\r\n    this.setState({changeValue: e.currentTarget.value}) \r\n}\r\n\r\nclearForm = ()=>{\r\n    this.setState({changeValue: ''})\r\n}\r\n\r\n    render() {\r\n        return (\r\n        <>\r\n            <header className={styles.Searchbar}>\r\n                <form className={styles.SearchForm}\r\n                    onSubmit = {this.handleSubmit}>\r\n                        \r\n                    <button type=\"submit\" className={styles.SearchFormButton}>\r\n                        <span className={styles.SearchFormButtonLabel}>Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className={styles.SearchFormInput}\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                        onChange = {this.handleChange}\r\n                        value = {this.state.changeValue}                \r\n                    />\r\n                </form>\r\n            </header>\r\n            <ToastContainer/>\r\n        </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SearchBar;","import styles from '../components/ImageGalleryItem.module.css';\r\n\r\n\r\nfunction ImageGalleryItem ({webformatURL, largeImageURL, tags, onClickProps}) {\r\n    \r\n    function handleClick(e){\r\n        onClickProps(largeImageURL, tags)\r\n    }\r\n\r\n    return (            \r\n        <li className={styles.ImageGalleryItem} onClick = {handleClick}>\r\n            <img className={styles.ImageGalleryItemImage} src={webformatURL} alt={tags} srcSet = {largeImageURL}/>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default ImageGalleryItem;","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from '../components/Modal.module.css';\r\n\r\nconst modalRoot = document.getElementById('modal-root')\r\n\r\n class Modal extends Component{   \r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown\r\n        )       \r\n    }\r\n    \r\n    componentWillUnmount() {\r\n       window.removeEventListener ('keydown', this.handleKeyDown)\r\n    }\r\n\r\n    handleKeyDown = e => {\r\n        if(e.code === 'Escape'){\r\n            this.props.onClose();\r\n        }\r\n    }\r\n\r\n    handleOverlayClick = e => {\r\n        if(e.currentTarget === e.target){\r\n            this.props.onClose();\r\n        }\r\n    }\r\n \r\n    render(){    \r\n        return createPortal( <div className={styles.Overlay} onClick ={this.handleOverlayClick}>\r\n            <div className={styles.Modal}>\r\n                {this.props.children}\r\n                \r\n            </div>\r\n        </div>, modalRoot  \r\n        )\r\n    } \r\n}\r\n\r\nexport default Modal","import { Component } from 'react';\r\nimport styles from '../components/Button.module.css'\r\n\r\nclass Button extends Component {    \r\n    render() {\r\n        return (            \r\n            <button type=\"submit\"  className={styles.Button} onClick={this.props.onClick}>\r\n            <span className=\"button-label\">LoadMore</span>\r\n            </button>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Button;","import { Component } from 'react';\r\nimport LoaderSpin from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport styles from '../components/Loader.module.css'\r\n\r\n\r\nclass Loader extends Component {    \r\n    render() {\r\n        return (  \r\n            <div className ={styles.Loader}>       \r\n            <LoaderSpin \r\n            type=\"Circles\"\r\n            color=\"#3f51b5\"\r\n            height={150}\r\n            width={150}\r\n            timeout={3000} //3 secs\r\n          />\r\n          </div>   \r\n        )\r\n    }\r\n}\r\n\r\nexport default Loader;","import ImageGalleryItem from './ImageGalleryItem'\r\nimport { Component } from 'react';\r\nimport styles from '../components/ImageGallery.module.css';\r\nimport Modal from '../components/Modal';\r\nimport Button from '../components/Button';\r\nimport Loader from '../components/Loader';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nclass ImageGallery extends Component{\r\n\r\nstate={\r\n    images: [],\r\n    largeImageURL: '',\r\n    tags: '',\r\n    showModal: false,\r\n    page : 1,\r\n    loading: false,\r\n};\r\n\r\nasync componentDidUpdate(prevProps, prevState) {\r\n    //URL params\r\n    const page = this.state.page\r\n    const API_KEY = \"23474268-70d851d8204f5902d9e83a665\";\r\n    let searchQuery = this.props.submitValue;\r\n    const baseUrl = `https://pixabay.com/api/`;\r\n    const params = `?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n    const url = baseUrl + params;\r\n    //Main fetch\r\n    if (prevProps.submitValue !== searchQuery) {\r\n        this.setState({loading: true});\r\n      fetch(url)\r\n        .then((response) => {\r\n            console.log('response',response);\r\n            \r\n          return response.json();\r\n        })\r\n        .then((results) => {\r\n          this.setState({\r\n              images: [...results.hits],\r\n            });\r\n            if(results.hits.length !== 0){toast.success('Search successfull!')}\r\n            else if (results.hits.length === 0){toast.error ('Oops, nothing found!')}\r\n            // else if (results.hits.length === 0){this.setState({loading: false})}\r\n            //   console.log(\"results\", results.hits);\r\n        })\r\n        .catch((err) => {\r\n            toast.error ('Fetch error!');\r\n        }\r\n            \r\n        )\r\n        .finally(()=> this.setState({loading: false}))\r\n        \r\n    }\r\n    //Load more fetch\r\n    if(page !== prevState.page){\r\n                fetch(url)\r\n        .then((response) => {\r\n            console.log('response',response);\r\n            \r\n          return response.json();\r\n        })\r\n        .then((results) => {\r\n          this.setState(prevState => {\r\n            return {images: [...prevState.images, ...results.hits]}               \r\n            });\r\n            if(results.hits.length !== 0){toast.success('More results successfully loaded!')}\r\n            else if (results.hits.length === 0){toast.error ('Oops, nothing more!')}\r\n            // else if (results.hits.length === 0){this.setState({loading: false})}\r\n            //   console.log(\"results\", results.hits);\r\n        })\r\n        .catch((err) => {\r\n            toast.error ('Fetch error!');\r\n        }\r\n            \r\n        )\r\n        .finally(()=> this.setState({loading: false}))\r\n    }\r\n  }\r\n\r\n  loadMore = () =>{       \r\n    this.setState(prevState => {\r\n        console.log('loadmore clicked');\r\n        return { page: prevState.page + 1 }\r\n\r\n\r\n      })\r\n    }\r\n\r\n  bigImageSetState = (bigImage, description) =>{\r\n    this.setState({largeImageURL:bigImage, tags:description})\r\n  }\r\n\r\ncloseModal =()=>{\r\n    this.setState(({showModal}) => ({\r\n        showModal: !showModal,\r\n        largeImageURL:'',\r\n        tags:'',\r\n    }))\r\n}\r\n\r\nrender() {\r\n\r\n            return ( <>\r\n            <ul className={styles.ImageGallery}>\r\n                {this.state.loading && <Loader/> }\r\n                {this.state.images.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n                \r\n                    <ImageGalleryItem\r\n                    key={id}\r\n                    webformatURL={webformatURL}\r\n                    largeImageURL={largeImageURL}\r\n                    tags = {tags}\r\n                    onClickProps = {this.bigImageSetState}\r\n                    />\r\n                ))}\r\n                {this.state.images.length !== 0  &&\r\n                <Button onClick = {this.loadMore}/>}\r\n            \r\n            </ul> \r\n            \r\n            { this.state.largeImageURL && \r\n\r\n            <Modal onClose = {this.closeModal}>\r\n                <button type=\"button\" className={styles.CloseBtn} onClick = {this.closeModal}>X</button>\r\n                <img src={this.state.largeImageURL} alt={this.state.tags} />\r\n            </Modal>\r\n            \r\n        \r\n        }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ImageGallery;","import { Component } from \"react\";\nimport SearchBar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport styles from \"./App.module.css\";\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    submitValue: \"\",\n  };\n\n  onFormSubmit = (data) => {\n    this.setState({ submitValue: data });\n  };\n\n  render() {\n    return (\n      <div className={styles.App}>\n        <SearchBar onFormSubmit={this.onFormSubmit} />\n        <ImageGallery submitValue={this.state.submitValue} />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__2fp0f\",\"SearchForm\":\"SearchBar_SearchForm__2pDTT\",\"SearchFormButton\":\"SearchBar_SearchFormButton__2exUq\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__3Roig\",\"SearchFormInput\":\"SearchBar_SearchFormInput__6dO3X\"};"],"sourceRoot":""}